fragment TweetFragment on Tweet {
  id
  text
  author {
    id
    name
    image
  }
  createdAt
}

query Tweets {
  tweets(first: 50) {
    edges {
      node {
        ...TweetFragment
      }
    }
  }
}

mutation CreateTweet($text: String!) {
  createTweet(input: { tweet: { text: $text } }) {
    tweetEdge {
      node {
        ...TweetFragment
      }
    }
  }
}

subscription NewTweet {
  listen(topic: "newTweet") {
    relatedNode {
      ...TweetFragment
    }
  }
}
